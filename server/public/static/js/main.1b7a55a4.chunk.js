(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),l=a(6),i=a(1),u=a(2),o=a(4),m=a(3),h=a(5),p=(a(67),a(14)),d=a(13),v=a(58),f=a.n(v),g=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.login=function(e){return t.instance.post("/login",e).then((function(e){return e.data}))},this.logout=function(e){return t.instance.post("/logout",e).then((function(e){return e.data}))},this.loggedInUser=function(){return t.instance.get("/loggedin").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.upload=function(e){return t.instance.post("/upload",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.submitQuizVal=function(e){return t.instance.post("/quiz",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.log(e)}))},this.submitPrefVal=function(e){return t.instance.post("/preferences",{gender:e}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.log(e)}))},this.submitAbout=function(e){return t.instance.post("/description",{description:e}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.log(e)}))},this.matches=function(){return t.instance.get("/matches").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.matchUser=function(e){return t.instance.get("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=f.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_URL:"https://hello-friendzone.herokuapp.com/api"}).REACT_APP_API_URL,"/auth"),withCredentials:!0})},E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(d.a)({},n,r)))},a.handleLogin=function(e){var t=a.props,n=t.setUser,r=t.history;e.preventDefault(),a.authService.login(a.state).then((function(e){n(e),r.push("/quiz")})).catch((function(e){r.push("/home")}))},a.authService=new g,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"log-page"},r.a.createElement("div",{className:"sign-log"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement("div",{className:"tags"},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{className:"input-log",type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{className:"input-log",type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("input",{class:"log-submit",type:"submit",value:"Login"})))))}}]),t}(n.Component),b=Object(p.f)(E),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(d.a)({},n,r)))},a.handleSignUp=function(e){e.preventDefault();var t=a.props.history;a.authService.signup(a.state).then((function(){t.push("/login")}),(function(e){console.error(e)}))},a.authService=new g,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"log-page"},r.a.createElement("div",{className:"sign-log"},r.a.createElement("h1",null,"SignUp"),r.a.createElement("form",{onSubmit:this.handleSignUp},r.a.createElement("div",{className:"tags"},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{className:"input-log",type:"text",name:"username",value:t,required:!0,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{className:"input-log",type:"password",value:a,name:"password",required:!0,onChange:this.handleChange}),r.a.createElement("input",{class:"log-submit",type:"submit",value:"Create account"})))))}}]),t}(n.Component),j=Object(p.f)(O),N=a(8),y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-all"},r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"home-title"},"Friendzone"),r.a.createElement("div",{className:"two-buttons"},r.a.createElement("button",{href:"/login",className:"button1"},r.a.createElement(N.b,{to:"/login"},"Login")),r.a.createElement("button",{href:"/login",className:"button1"},r.a.createElement(N.b,{to:"/signup"},"Sign Up")))))}}]),t}(n.Component),k=Object(p.f)(y),C=a(24),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.update(e.target.value)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("form",{className:"dropdown"},r.a.createElement("select",{onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{defaultValue:"Non"},"Non Specified"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male")))))}}]),t}(n.Component);c.a.render(r.a.createElement(S,null),document.getElementById("root"));var w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:""},a.update=function(e){var t,n=e.target,r=n.name,s=n.value;a.setState(Object(l.a)({},a.state,(t={},Object(d.a)(t,r,+s),Object(d.a)(t,"averageQ",Object.values(a.state).splice(0,4).reduce((function(e,t){return e+t}),1)/5),t)))},a.updateIam=function(e){a.setState(Object(l.a)({},a.state,{iam:e}))},a.updateLooking=function(e){a.setState(Object(l.a)({},a.state,{lookingFor:e}))},a.updateAbout=function(e){a.setState(Object(l.a)({},a.state,{description:e.target.value}))},a.state={Q1:3,Q2:3,Q3:3,Q4:3,Q5:3,averageQ:3,iam:"",lookingFor:"",description:"",user:e.user},a.update=a.update.bind(Object(C.a)(a)),a.service=new g,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"addValueToDB",value:function(){var e=this,t=this.props.history,a={iam:this.state.iam,lookingFor:this.state.lookingFor,averageQ:this.state.averageQ,description:this.state.description};this.service.submitQuizVal(a).then((function(){t.push("/profile",Object(l.a)({},e.state))}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",null,r.a.createElement("header",{className:"private-header"},r.a.createElement("h3",{className:"App-name"},"Friendzone"),r.a.createElement("div",{className:"bar-tres"},r.a.createElement("div",{className:"buttons-head"},r.a.createElement("button",{className:"nav-a",path:"/login"},r.a.createElement(N.b,{to:"/"},"Home")),r.a.createElement("button",{className:"nav-a",path:"/quiz"},r.a.createElement(N.b,{to:"/quiz"},"Quiz")),r.a.createElement("button",{className:"nav-a",onClick:function(){return e.logout()}},"Logout"))))),r.a.createElement("div",{className:"q-father"},r.a.createElement("div",{className:"titles"},r.a.createElement("h2",null,"Quiz"),r.a.createElement("h1",null,"Hello ",this.state.user.username,"!"),r.a.createElement("div",null,r.a.createElement("div",{className:"bars"},r.a.createElement("h3",null,"You are a"),r.a.createElement(S,{update:this.updateIam}),r.a.createElement("h3",null,"looking to find"),r.a.createElement(S,{update:this.updateLooking}))),r.a.createElement("input",{type:"text",className:"description",required:!0,minLength:"10",maxLength:"60",size:"100",placeholder:"write one line about yourself",value:this.state.description,onChange:function(t){return e.updateAbout(t)}})),r.a.createElement("div",{className:"quiz-ranges"},r.a.createElement("div",{className:"quiz-q"},r.a.createElement("h3",null,"Conventional"),r.a.createElement("input",{name:"Q1",type:"range",min:"1",max:"5",value:this.rangevalue1,className:"slider",id:"myRange",onChange:function(t){return e.update(t)}}),r.a.createElement("h3",null,"Creative")),r.a.createElement("div",{className:"quiz-q"},r.a.createElement("h3",null,"Calm"),r.a.createElement("input",{name:"Q2",type:"range",min:"1",max:"5",value:this.rangevalue2,className:"slider",id:"myRange",onChange:function(t){return e.update(t)}}),r.a.createElement("h3",null,"Active")),r.a.createElement("div",{className:"quiz-q"},r.a.createElement("h3",null,"Organized"),r.a.createElement("input",{name:"Q3",type:"range",min:"1",max:"5",value:this.rangevalue3,className:"slider",id:"myRange",onChange:function(t){return e.update(t)}}),r.a.createElement("h3",null,"Spontaneous")),r.a.createElement("div",{className:"quiz-q"},r.a.createElement("h3",null,"Reserved"),r.a.createElement("input",{name:"Q4",type:"range",min:"1",max:"5",value:this.rangevalue4,className:"slider",id:"myRange",onChange:function(t){return e.update(t)}}),r.a.createElement("h3",null,"Extroverted")),r.a.createElement("div",{className:"quiz-q"},r.a.createElement("h3",null,"Disciplined"),r.a.createElement("input",{name:"Q5",type:"range",min:"1",max:"5",value:this.rangevalue5,className:"slider",id:"myRange",onChange:function(t){return e.update(t)}}),r.a.createElement("h3",null,"Relaxed")),r.a.createElement("button",{className:"button1",type:"button",onClick:function(){return e.addValueToDB()}},"Submit"))))}}]),t}(n.Component),x=Object(p.f)(w),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).handlerText=function(t){console.log("handlerText: ".concat(t.target.value)),e.setState(Object(l.a)({},e.state,{text:t.target.value}))},e.handlerSubmit=function(t){console.log("handlerSubmit: ".concat(e.state.text)),t.preventDefault(),e.props.info(e.state.text),e.setState(Object(l.a)({},e.state,{text:""}))},e.state={text:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"chat-class"},r.a.createElement("input",{onChange:function(t){e.handlerText(t)},type:"text",placeholder:"Your message",value:this.state.text,className:"input-message"})),r.a.createElement("button",{className:"button1",variant:"primary",type:"submit",onClick:function(t){e.handlerSubmit(t)}},"Send"))}}]),t}(n.Component),U=(a(88),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).authService=null,a.state={user:"",matches:[]},a.authService=new g,a.state.user=e.user.username,a.state.quizValue=e.user.quizValue,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authService.matches(this.state).then((function(t){e.setState({matches:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",{className:"contacts"},r.a.createElement("tbody",null,this.state.matches.map((function(e,t){return r.a.createElement("tr",{key:t,matches:e},r.a.createElement("td",null,r.a.createElement("a",{href:"".concat(e.username,"/").concat(e.quizValue)},e.username)))}))))))}}]),t}(r.a.Component)),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).sendMessage=function(e){if(console.log(e),""!==e.trim()){var t={text:e,user:a.state.user,value:a.state.averageQ};a.socket.emit("messageSent",t)}},a.componentDidUpdate=function(){document.getElementById("chatBox").scrollTop=document.getElementById("chatBox").scrollHeight},a.authService=new g,a.state={messages:[],user:a.props.user,averageQ:a.props.averageQ},a.socket=a.props.socket,a.socket.on("newMessage",(function(e){var t=a.state.messages;Math.ceil(e.value)===Math.ceil(a.state.averageQ)&&(t.push(e),a.setState(Object(l.a)({},a.state,{messages:t}))),console.log(e.value),console.log(a.state.averageQ)})),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log(this.props),console.log(this.state.user),r.a.createElement("div",{id:"cont"},r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",{className:"inner-chat"},r.a.createElement("h3",null,"YourMatches"),r.a.createElement("div",{className:"flow-contacts"},r.a.createElement(U,{user:this.state.user}))),r.a.createElement("div",null,r.a.createElement("div",{className:"chatBox",id:"chatBox"},this.state.messages.map((function(e,t){return r.a.createElement("h6",{key:t},e.user," : ",e.text)}))),r.a.createElement("div",{className:"textForm"},r.a.createElement(z,{info:this.sendMessage})))))}}]),t}(n.Component),Q=Object(p.f)(q),L=a(61),P=a.n(L),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).updateUserList=function(e){""!==e.trim()&&a.setState(Object(l.a)({},a.state,{user:e}),(function(){a.props.history.push("/chat")}))},a.state={userList:[],user:e.user,averageQ:e.averageQ},a.socket=P()("http://127.0.0.1:3001"),a.socket.on("list",(function(e){a.setState(Object(l.a)({},a.state,{userList:e}))})),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.socket.emit("newUser",this.state.user)}},{key:"render",value:function(){var e=this;return console.log(this.state.user),r.a.createElement("div",{className:"chat-contains"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Q,{socket:e.socket,list:e.state.userList,user:e.state.user,averageQ:e.state.averageQ})}})))}}]),t}(n.Component),F=Object(p.f)(V),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).logout=function(){a.authService.logout(a.state.whole).then((function(){return a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.authService=new g,a.state={whole:a.props.user,user:a.props.user.username,averageQ:a.props.user.quizValue},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.user),r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",null,r.a.createElement("header",{className:"private-header"},r.a.createElement("h3",{className:"App-name"},"Friendzone"),r.a.createElement("div",{className:"bar-tres"},r.a.createElement("div",{className:"buttons-head"},r.a.createElement("button",{className:"nav-a",path:"/login"},r.a.createElement(N.b,{to:"/"},"Home")),r.a.createElement("button",{className:"nav-a",path:"/quiz"},r.a.createElement(N.b,{to:"/quiz"},"Quiz")),r.a.createElement("button",{className:"nav-a",onClick:function(){return e.logout()}},"Logout"))))),r.a.createElement("div",{className:"current-user"},r.a.createElement("h2",{className:"hello-user"},"Hello ",this.state.user,"!"),r.a.createElement("h3",null,this.props.location.description)),r.a.createElement("div",null,r.a.createElement("div",{className:"chat-container"},r.a.createElement(F,{user:this.state.user,averageQ:this.state.averageQ}))))}}]),t}(r.a.Component),B=Object(p.f)(A),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).authService=new g,a.state={matchName:a.props.match.params.matchName,quizValue:a.props.match.params.quizValue},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authService.matchUser(this.props.match.params.matchName).then((function(t){return e.setState(Object(l.a)({},e.state,{quizValue:t.oneUser.quizValue}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is ",this.state.matchName),r.a.createElement("h1",null,"Is a ",this.state.quizValue),r.a.createElement("h6",null,"But don't judge a book by it's cover"))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:null},a.setUser=function(e,t){a.setState(Object(l.a)({},a.state,{user:e,description:t}))},a.fetchUser=function(){null===a.state.user&&a.authService.loggedInUser().then((function(e){a.setUser(e)}),(function(e){a.setUser(!1)})).catch((function(){a.setUser(!1)}))},a.authService=new g,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.description;return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(k,null)}}),r.a.createElement("div",null,a&&r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/quiz",render:function(e){return r.a.createElement(x,Object.assign({},e,{user:a,description:n}))}}),r.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(B,{user:a})}}),r.a.createElement(p.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(F,{user:a})}}),r.a.createElement(p.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(k,Object.assign({},e,{user:a}))}}),r.a.createElement(p.a,{extat:!0,path:"/:matchName",render:function(e){return r.a.createElement(R,Object.assign({},e,{user:a}))}})),!a&&r.a.createElement(p.c,null,r.a.createElement(p.a,{classname:"login",exact:!0,path:"/login",render:function(t){return r.a.createElement(b,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(p.a,{exact:!0,path:"/home",render:function(t){return r.a.createElement(k,Object.assign({},t,{setUser:e.setUser}))}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N.a,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){e.exports=a(120)},67:function(e,t,a){},88:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.1b7a55a4.chunk.js.map