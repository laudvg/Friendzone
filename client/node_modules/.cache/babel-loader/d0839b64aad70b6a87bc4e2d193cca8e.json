{"ast":null,"code":"import _objectSpread from \"/home/laudvg/dic19/10dic/Friendzone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/laudvg/dic19/10dic/Friendzone/client/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport TodoService from './services/TodoService';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Signup/Signup';\nimport AuthService from './services/AuthService';\nimport PrivateRoute from './guards/PrivateRoute';\nimport Component from './components/Component/Component';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null\n    };\n\n    this.setUser = user => {\n      this.setState(_objectSpread({}, this.state, {\n        user\n      }));\n    };\n\n    this.fetchUser = () => {\n      if (this.state.user === null) {\n        this.authService.loggedInUser().then(user => {\n          this.setUser(user);\n        }, error => {\n          this.setUser(false);\n        }).catch(() => {\n          this.setUser(false);\n        });\n      }\n    };\n\n    this.todoService = new TodoService();\n    this.authService = new AuthService();\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  render() {\n    this.fetchUser();\n    const user = this.state.user;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, user && React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: match => React.createElement(SignUp, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/\",\n      user: user,\n      component: Component,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), !user && React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: match => React.createElement(SignUp, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/\",\n      user: user,\n      component: Component,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/laudvg/dic19/10dic/Friendzone/client/src/App.js"],"names":["React","TodoService","Switch","Route","Login","SignUp","AuthService","PrivateRoute","Component","App","constructor","props","state","user","setUser","setState","fetchUser","authService","loggedInUser","then","error","catch","todoService","componentDidMount","render","match"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport TodoService from './services/TodoService';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Signup/Signup';\nimport AuthService from './services/AuthService';\nimport PrivateRoute from './guards/PrivateRoute';\nimport Component from './components/Component/Component';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.todoService = new TodoService();\n    this.authService = new AuthService();\n  }\n\n  state = {\n    user: null\n  }\n\n  setUser = (user) => {\n    this.setState({ ...this.state, user })\n  }\n\n  fetchUser = () => {\n    if (this.state.user === null) {\n      this.authService.loggedInUser()\n        .then(\n          (user) => {\n            this.setUser(user)\n          },\n          (error) => {\n            this.setUser(false)\n          }\n        )\n        .catch(() => {\n          this.setUser(false)\n        })\n    }\n  }\n\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  render() {\n    this.fetchUser()\n    const { user } = this.state;\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {user && <Switch>\n            <Route exact path=\"/login\" render={(match) => <Login {...match} setUser={this.setUser} />} />  \n            <Route exact path=\"/signup\" render={(match) => <SignUp {...match} setUser={this.setUser} />} />\n            <PrivateRoute exact path=\"/\" user={user} component={Component} />\n          </Switch> }\n          {!user && <Switch>\n            <Route exact path=\"/login\" render={(match) => <Login {...match} setUser={this.setUser} />} />  \n            <Route exact path=\"/signup\" render={(match) => <SignUp {...match} setUser={this.setUser} />} />\n            <PrivateRoute exact path=\"/\" user={user} component={Component} />\n          </Switch> }\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}