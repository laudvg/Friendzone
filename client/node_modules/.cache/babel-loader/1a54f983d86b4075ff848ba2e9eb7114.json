{"ast":null,"code":"import _objectSpread from \"/home/laudvg/dic19/10dic/Friendzone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/laudvg/dic19/10dic/Friendzone/client/src/App.js\";\nimport React from 'react';\nimport './App.css'; // import TodoService from './services/TodoService';\n\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Signup/Signup';\nimport AuthService from './services/AuthService';\nimport Temporary from './components/Temporary/Temporary';\nimport PrivateRoute from './guards/PrivateRoutes';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); // this.todoService = new TodoService();\n\n    this.state = {\n      user: null\n    };\n\n    this.setUser = user => {\n      this.setState(_objectSpread({}, this.state, {\n        user\n      }));\n    };\n\n    this.fetchUser = () => {\n      if (this.state.user === null) {\n        this.authService.loggedInUser().then(user => {\n          this.setUser(user);\n        }, error => {\n          this.setUser(false);\n        }).catch(() => {\n          this.setUser(false);\n        });\n      }\n    };\n\n    this.authService = new AuthService();\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  render() {\n    this.fetchUser();\n    const user = this.state.user;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: match => React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, user && React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: match => React.createElement(SignUp, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/temporary\",\n      user: user,\n      component: Temporary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/temporary\",\n      render: () => React.createElement(Temporary, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), !user && React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: match => React.createElement(Login, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: match => React.createElement(SignUp, Object.assign({}, match, {\n        setUser: this.setUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/temporary\",\n      user: user,\n      component: Temporary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/laudvg/dic19/10dic/Friendzone/client/src/App.js"],"names":["React","Switch","Route","Login","SignUp","AuthService","Temporary","PrivateRoute","App","Component","constructor","props","state","user","setUser","setState","fetchUser","authService","loggedInUser","then","error","catch","componentDidMount","render","match"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n// import TodoService from './services/TodoService';\nimport { Switch, Route } from 'react-router-dom';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Signup/Signup';\nimport AuthService from './services/AuthService';\nimport Temporary from './components/Temporary/Temporary';\nimport PrivateRoute from './guards/PrivateRoutes'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.todoService = new TodoService();\n    this.authService = new AuthService();\n  }\n\n  state = {\n    user: null\n  }\n\n  setUser = (user) => {\n    this.setState({ ...this.state, user })\n  }\n\n  fetchUser = () => {\n    if (this.state.user === null) {\n      this.authService.loggedInUser()\n        .then(\n          (user) => {\n            this.setUser(user)\n          },\n          (error) => {\n            this.setUser(false)\n          }\n        )\n        .catch(() => {\n          this.setUser(false)\n        })\n    }\n  }\n\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  render() {\n    this.fetchUser()\n    const { user } = this.state;\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/login\" render={(match) => <Login></Login>}></Route>\n        <header className=\"App-header\">\n   \n          {user && <Switch>\n            <Route exact path=\"/login\" render={(match) => <Login {...match} setUser={this.setUser} />} />  \n            <Route exact path=\"/signup\" render={(match) => <SignUp {...match} setUser={this.setUser} />} />\n            <PrivateRoute exact path=\"/temporary\" user={user} component={Temporary} />\n            <Route exact path=\"/temporary\" render={() => <Temporary></Temporary>} />\n          </Switch> }\n          {!user && <Switch>\n            <Route exact path=\"/login\" render={(match) => <Login {...match} setUser={this.setUser} />} />  \n            <Route exact path=\"/signup\" render={(match) => <SignUp {...match} setUser={this.setUser} />} />\n            <PrivateRoute exact path=\"/temporary\" user={user} component={Temporary} />\n            {/* <Route exact path=\"/\" render={() => <Temporary></Temporary>} /> */}\n          </Switch> }\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}