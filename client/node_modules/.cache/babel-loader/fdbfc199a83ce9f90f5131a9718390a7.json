{"ast":null,"code":"import _objectSpread from \"/home/laudvg/dic19/10dic/Friendzone/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/laudvg/dic19/10dic/Friendzone/client/src/components/Signup/Signup.js\";\nimport React, { Component } from 'react';\nimport AuthService from '../../services/AuthService';\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      picture: ''\n    };\n\n    this.handleChange = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState(_objectSpread({}, this.state, {\n        [name]: value\n      }));\n    };\n\n    this.handleSignUp = e => {\n      e.preventDefault();\n      const _this$props = this.props,\n            history = _this$props.history,\n            setUser = _this$props.setUser;\n      this.authService.signup(this.state).then(user => {\n        setUser(user);\n        history.push(\"/\");\n      }, error => {\n        console.error(error);\n      });\n    };\n\n    this.handleUpload = e => {\n      const uploadData = new FormData();\n      uploadData.append('picture', e.target.files[0]);\n      this.authService.upload(uploadData).then(data => {\n        this.setState(_objectSpread({}, this.state, {\n          picture: data.secure_url\n        }));\n      }, error => {\n        console.error(error);\n      });\n    };\n\n    this.authService = new AuthService();\n  }\n\n  render() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          picture = _this$state.picture;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(PageTitle, {\n      color: \"black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"SignUp\"), React.createElement(\"form\", {\n      onSubmit: this.handleSignUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Username: \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: username,\n      required: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      value: password,\n      name: \"password\",\n      required: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"picture\",\n      onChange: this.handleUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/laudvg/dic19/10dic/Friendzone/client/src/components/Signup/Signup.js"],"names":["React","Component","AuthService","SignUp","constructor","props","state","username","password","picture","handleChange","e","target","name","value","setState","handleSignUp","preventDefault","history","setUser","authService","signup","then","user","push","error","console","handleUpload","uploadData","FormData","append","files","upload","data","secure_url","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport AuthService from '../../services/AuthService'\n\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props)\n    this.authService = new AuthService();\n  }\n\n  state = {\n    username: '',\n    password: '',\n    picture: ''\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({...this.state, [name]:value})\n  }\n  handleSignUp = (e) => {\n    e.preventDefault()\n    const { history, setUser } = this.props;\n    this.authService.signup(this.state)\n    .then(\n      (user) => {\n        setUser(user);\n        history.push(\"/\")\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  handleUpload = (e) => {\n    const uploadData = new FormData();\n    uploadData.append('picture', e.target.files[0])\n    this.authService.upload(uploadData)\n    .then(\n      (data) => {\n        this.setState({...this.state, picture: data.secure_url})\n      },\n      (error) => {\n        console.error(error)\n      }\n    )\n  }\n\n  render() {\n    const { username, password, picture } = this.state;\n    return (\n      <div>\n        <PageTitle color=\"black\">SignUp</PageTitle>\n        <form onSubmit={this.handleSignUp}>\n          <label htmlFor=\"username\">Username: </label>\n          <input type=\"text\" name=\"username\" value={username} required onChange={this.handleChange}/>\n          <label htmlFor=\"password\">Password: </label>\n          <input type=\"password\" value={password} name=\"password\" required onChange={this.handleChange}/>\n          <input type=\"file\" name=\"picture\" onChange={this.handleUpload} />\n          <input type=\"submit\" value=\"Create account\"/>\n        </form>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}